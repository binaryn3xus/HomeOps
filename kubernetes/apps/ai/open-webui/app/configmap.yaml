apiVersion: v1
kind: ConfigMap
metadata:
  name: open-webui-env
data:
  # --- SESSION & CORE STABILITY ---
  ENABLE_PERSISTENT_CONFIG: "False"
  JWT_EXPIRES_IN: "4w"
  WEBUI_URL: "https://ai.unscfleet.com"

  # --- ZERO TELEMETRY & PRIVACY ---
  SCARF_NO_ANALYTICS: "True"
  ANONYMIZED_TELEMETRY: "False"
  DO_NOT_TRACK: "True"
  CORS_ALLOW_ORIGIN: "https://ai.unscfleet.com"

  # --- WEB SEARCH ---
  ENABLE_WEB_SEARCH: "True"
  WEB_SEARCH_ENGINE: "searxng"
  RAG_SEARXNG_QUERY_URL: "http://searxng-app.ai.svc.cluster.local:8080/search?q=<query>&format=json"
  SEARXNG_QUERY_URL: "http://searxng-app.ai.svc.cluster.local:8080/search?q=<query>&format=json"
  SEARXNG_LANGUAGE: "all"
  WEB_SEARCH_RESULT_COUNT: "3"

  # --- OPENAI / GEMINI API BRIDGE ---
  ENABLE_OPENAI_API: "True"
  OPENAI_API_BASE_URL: "https://generativelanguage.googleapis.com/v1beta/openai"
  MODELS_CACHE_TTL: "3600"

  # --- CODE EXECUTION ---
  ENABLE_CODE_INTERPRETER: "True"
  CODE_INTERPRETER_ENGINE: "pyodide"

  # --- AUTHENTICATION & ACCESS ---
  WEBUI_AUTH: "True"
  ENABLE_SIGNUP: "False"
  ENABLE_API_KEY: "True"
  OAUTH_MERGE_ACCOUNTS_BY_EMAIL: "True"
  OAUTH_UPDATE_PICTURE_ON_LOGIN: "True"
  OPENID_PROVIDER_URL: "https://github.com/login/oauth/authorize"

  # --- RAG & LOCAL INTELLIGENCE ---
  OLLAMA_BASE_URL: "http://ollama.ai.svc.cluster.local:11434"
  RAG_EMBEDDING_ENGINE: "ollama"
  RAG_EMBEDDING_MODEL: "nomic-embed-text"
  ENABLE_RAG_LOCAL_WEB_FETCH: "True"

  # --- AUDIO: TTS/STT (Azure) ---
  AUDIO_STT_ENGINE: "azure"
  AUDIO_STT_AZURE_REGION: "eastus"

  AUDIO_TTS_ENGINE: "azure"
  AUDIO_TTS_AZURE_SPEECH_REGION: "eastus"

  # --- AUDIO: SPEECH-TO-TEXT (Speaches) ---
  # AUDIO_STT_ENGINE: "openai"
  # AUDIO_STT_OPENAI_API_BASE_URL: "http://speaches.ai.svc.cluster.local:8000/v1"
  # AUDIO_STT_OPENAI_API_KEY: "sk-123" # Placeholder required
  # AUDIO_STT_MODEL: "Systran/faster-whisper-base" # Matches Speaches WHISPER__MODEL

  # --- AUDIO: TEXT-TO-SPEECH (Kokoro) ---
  # AUDIO_TTS_ENGINE: "openai"
  # AUDIO_TTS_OPENAI_API_BASE_URL: "http://kokoro-fastapi-gpu.ai.svc.cluster.local:8000/v1"
  # AUDIO_TTS_OPENAI_API_KEY: "sk-123"
  # AUDIO_TTS_MODEL: "kokoro"
  # AUDIO_TTS_VOICE: "af_heart"

# --- IMAGE GENERATION (The Eyes) ---
  ENABLE_IMAGE_GENERATION: "true"
  ENABLE_IMAGE_PROMPT_GENERATION: "true"
  IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE: '{"prompt": "Generate a detailed prompt for an image generation task based on the given language and context. Describe the image as if you were explaining it to someone who cannot see it. Include relevant details, colors, shapes, and any other important elements."}'
  IMAGE_GENERATION_ENGINE: "comfyui"
  IMAGE_GENERATION_MODEL: "model.safetensors"
  IMAGE_SIZE: "512x512"
  IMAGE_STEPS: "50"
  COMFYUI_BASE_URL: "http://comfyui.ai.svc.cluster.local:8188"
  COMFYUI_WORKFLOW_NODES: '[{"text": "6", "ckpt_name": "4", "width": "5", "height": "5", "steps": "3", "seed": "3"}]'

  # --- SYSTEM LOCALIZATION ---
  TZ: "America/New_York"

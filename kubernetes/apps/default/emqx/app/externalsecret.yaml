---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: emqx-external-secret
  namespace: default
spec:
  refreshInterval: "15m"
  secretStoreRef:
    name: bitwarden-fields
    kind: ClusterSecretStore
  target:
    creationPolicy: Owner
    deletionPolicy: Delete
    template:
      engineVersion: v2
      data:
        admin_password: "{{ .admin_password }}"
        user_1_username: "{{ .user_1_username }}"
        user_1_password: "{{ .user_1_password }}"
        user_2_username: "{{ .user_2_username }}"
        user_2_password: "{{ .user_2_password }}"
        user_3_username: "{{ .user_3_username }}"
        user_3_password: "{{ .user_3_password }}"
        user_4_username: "{{ .user_4_username }}"
        user_4_password: "{{ .user_4_password }}"
  dataFrom:
    - extract:
        key: 61ee89c4-9e2d-4af2-82a6-b056002647a5
